{% extends 'blog/base_blog.html'%}

{% block title %}
    App
{% endblock %}

{% block content %}
  <h1 class='mb-5'>Posts:</h1>
  {% if page.object_list %}
    {% for post in page.object_list %}
    {% include 'blog/includes/post_card_templated.html' %}
    {% endfor %}
  {% else %}
    <h1> Not found </h1>
  {% endif %}

{% endblock %}

{% block pagination %}
{% if page.has_other_pages %}
<nav aria-label="...">
  <ul class="pagination">

    {% if page.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page.previous_page_number }}">Previous</a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
    </li>
    {% endif %}

    {% for n in page.paginator.page_range %}
    {% if page.number == n %}
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="?page={{ n }}">{{ n }}</a>
    </li>
    {% elif n > page.number|add:-3 and n < page.number|add:3 %}
    <li class="page-item">
      <a class="page-link" href="?page={{ n }}">{{ n }}</a>
    </li>
    {% endif %}
    {% endfor %}


    {% if page.has_next %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page.next_page_number }}">Next</a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Next</a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endif %}
{% endblock %}
